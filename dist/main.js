(()=>{"use strict";const e=(e,t,n,d)=>({getTitle:()=>e,getDesc:()=>t,getDate:()=>n,getPriority:()=>d}),t=e=>{const t=[];return{addTask:e=>{t.push(e)},getTasks:()=>t,getTitle:()=>e,removeTask:e=>{t.splice(e,1)}}},n=(e,t)=>{const n=e=>{const t=e.split(":");let n="AM",d=Number(t[0]);return d>12&&(d-=12,n="PM"),d+":"+t[1]+" "+n};return{getDate:()=>""===e?"":new Date(e).toDateString(),getTime:()=>""===t?"":n(t),conv24to12HourClock:n}},d=document.getElementById("content"),i=(()=>{const e=[];let t=null;return{getList:()=>e,getProject:n=>(t=n,e[n]),addList:t=>{e.push(t)},getCurrentProject:()=>e[t],getCurrentProjectIndex:()=>t}})(),a=()=>{let e=i.getList();for(let t=0;t<e.length;t++){let n=e[t];l(n.getTitle(),t)}},l=(e,t)=>{const n=document.getElementById("project-list"),d=document.createElement("li");d.classList.add("project"),d.setAttribute("data",t);const i=document.createElement("img"),a=document.createElement("p");a.innerText=e,i.src="./images/inboxIcon.png",d.appendChild(i),d.appendChild(a),n.appendChild(d),d.addEventListener("click",(e=>{r(e.target.getAttribute("data"))}))},r=e=>{let t=i.getProject(e).getTasks(),n=document.getElementById("work-list");n.innerHTML="";for(let e=0;e<t.length;e++){let d=c(t[e],e);n.appendChild(d)}let d=m(),a=u();d.addEventListener("click",(e=>{n.lastElementChild!==a&&n.appendChild(a)})),n.appendChild(d)},c=(e,t)=>{let n=document.createElement("li");n.classList.add("task");let d=document.createElement("button");d.classList.add("check-button"),d.addEventListener("click",(e=>{s(t)}));let i=document.createElement("div");i.classList.add("task-header");let a=document.createElement("p"),l=document.createElement("p");a.innerText=e.getTitle(),l.innerText=e.getDate().getDate()+" "+e.getDate().getTime(),i.appendChild(a),i.appendChild(l);let r=document.createElement("div");r.innerText="test",r.classList.add("description-area");const c=()=>{n.lastElementChild===r?n.removeChild(r):n.appendChild(r)};return i.addEventListener("click",(e=>c())),r.addEventListener("click",(e=>c())),n.appendChild(d),n.appendChild(i),n},s=e=>{i.getCurrentProject().removeTask(e),r(i.getCurrentProjectIndex())},u=()=>{let e=document.createElement("form");e.id="task-form";let t=document.createElement("label");t.innerText="Task:",t.setAttribute("for","task");let n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("name","task"),n.id="task-input",n.required=!0;let d=document.createElement("label");d.innerText="Description:",d.setAttribute("for","task-desc");let a=document.createElement("input");a.setAttribute("type","text"),a.setAttribute("name","task-desc"),a.id="task-desc";let l=document.createElement("label");l.innerText="Due Date:",l.setAttribute("for","task-due-date");let c=document.createElement("input");c.setAttribute("type","date"),c.setAttribute("name","task-due-date"),c.id="task-due-date";let s=document.createElement("input");s.setAttribute("type","time"),s.setAttribute("name","task-due-time"),s.id="task-due-time";let u=document.createElement("label");u.innerText="Priority:",u.setAttribute("for","priority");let m=document.createElement("select");m.setAttribute("name","priority"),m.id="task-priority";let p=document.createElement("option");p.setAttribute("value","1"),p.innerText="1";let g=document.createElement("option");g.setAttribute("value","2"),g.innerText="2";let h=document.createElement("option");h.setAttribute("value","3"),h.innerText="3",m.appendChild(p),m.appendChild(g),m.appendChild(h);let E=document.createElement("button");return E.id="task-submit",E.innerText="Submit",E.addEventListener("click",(e=>{if(""===n.value)return;e.preventDefault(),console.log(c.value),console.log(s.value);let t=o(n,a,c,s,m);i.getCurrentProject().addTask(t),r(i.getCurrentProjectIndex())})),e.appendChild(t),e.appendChild(n),e.appendChild(d),e.appendChild(a),e.appendChild(l),e.appendChild(c),e.appendChild(s),e.appendChild(u),e.appendChild(m),e.appendChild(E),e},o=(t,d,i,a,l)=>e(t.value,d.value,n(i.value,a.value),l.value),m=()=>{let e=document.createElement("div");return e.classList.add("add-task"),e.innerText="+ Add New Task",e};(()=>{const l=document.createElement("div");l.setAttribute("id","header");const r=document.createElement("p");r.innerText="Todo List";const c=document.createElement("img");c.setAttribute("id","header-icon"),c.src="./images/checkmarkimage.svg",l.appendChild(c),l.appendChild(r);const s=document.createElement("div");s.setAttribute("id","navigation");let u=document.createElement("ul");u.setAttribute("id","project-list"),s.appendChild(u);const o=document.createElement("div");o.setAttribute("id","work-area");let m=document.createElement("ul");m.setAttribute("id","work-list"),o.appendChild(m),d.appendChild(l),d.appendChild(s),d.appendChild(o),(()=>{let d=t("Inbox"),l=t("Today"),r=e("asd","asd",n("September 14 2012","14:00"),1);d.addTask(r),i.addList(d),i.addList(l),a()})()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFhMUUsU0FBU21CLGNBQWMsS0FDMUN1RCxFQUFXakQsVUFBWSxZQUN2QixNQUFNa0QsRUFBTzNFLFNBQVNtQixjQUFjLE9BQ3BDd0QsRUFBS3JELGFBQWEsS0FBTSxlQUN4QnFELEVBQUtqRCxJQUFNLDhCQUNYK0MsRUFBTzlDLFlBQVlnRCxHQUNuQkYsRUFBTzlDLFlBQVkrQyxHQUVuQixNQUFNRSxFQUFhNUUsU0FBU21CLGNBQWMsT0FDMUN5RCxFQUFXdEQsYUFBYSxLQUFNLGNBQzlCLElBQUluQixFQUFjSCxTQUFTbUIsY0FBYyxNQUN6Q2hCLEVBQVltQixhQUFhLEtBQU0sZ0JBQy9Cc0QsRUFBV2pELFlBQVl4QixHQUN2QixNQUFNMEUsRUFBVzdFLFNBQVNtQixjQUFjLE9BQ3hDMEQsRUFBU3ZELGFBQWEsS0FBTSxhQUM1QixJQUFJd0QsRUFBVzlFLFNBQVNtQixjQUFjLE1BQ3RDMkQsRUFBU3hELGFBQWEsS0FBTSxhQUM1QnVELEVBQVNsRCxZQUFZbUQsR0FFckIvRSxFQUFRNEIsWUFBWThDLEdBQ3BCMUUsRUFBUTRCLFlBQVlpRCxHQUNwQjdFLEVBQVE0QixZQUFZa0QsR0FJRCxNQUNuQixJQUFJRSxFQUFhckcsRUFBUSxTQUNyQnNHLEVBQWlCdEcsRUFBUSxTQUN6QnlELEVBQU9sRSxFQUNULE1BQ0EsTUFDQWtCLEVBQVcsb0JBQXFCLFNBQ2hDLEdBRUY0RixFQUFXbkcsUUFBUXVELEdBQ25CakMsRUFBSU0sUUFBUXVFLEdBQ1o3RSxFQUFJTSxRQUFRd0UsR0FDWnBFLEdBQWMsRUFmZHFFLEVBQWMsRUU1QmhCQyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3RvZG8uanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL1VJLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9kaXJlY3Rvci5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgdG9kb0l0ZW0gPSAodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSkgPT4ge1xuICBjb25zdCBnZXRUaXRsZSA9ICgpID0+IHRpdGxlO1xuICBjb25zdCBnZXREZXNjID0gKCkgPT4gZGVzY3JpcHRpb247XG4gIGNvbnN0IGdldERhdGUgPSAoKSA9PiBkdWVEYXRlO1xuICBjb25zdCBnZXRQcmlvcml0eSA9ICgpID0+IHByaW9yaXR5O1xuICByZXR1cm4geyBnZXRUaXRsZSwgZ2V0RGVzYywgZ2V0RGF0ZSwgZ2V0UHJpb3JpdHkgfTtcbn07XG5cbmNvbnN0IHByb2plY3QgPSAodGl0bGUpID0+IHtcbiAgY29uc3QgdG9kb2xpc3QgPSBbXTtcbiAgY29uc3QgZ2V0VGFza3MgPSAoKSA9PiB0b2RvbGlzdDtcblxuICBjb25zdCBhZGRUYXNrID0gKHRvZG8pID0+IHtcbiAgICB0b2RvbGlzdC5wdXNoKHRvZG8pO1xuICB9O1xuXG4gIGNvbnN0IHJlbW92ZVRhc2sgPSAoaW5kZXgpID0+IHtcbiAgICB0b2RvbGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xuICB9O1xuXG4gIGNvbnN0IGdldFRpdGxlID0gKCkgPT4gdGl0bGU7XG5cbiAgcmV0dXJuIHsgYWRkVGFzaywgZ2V0VGFza3MsIGdldFRpdGxlLCByZW1vdmVUYXNrIH07XG59O1xuXG5jb25zdCBkYXRlSGVscGVyID0gKGRhdGUsIHRpbWUpID0+IHtcbiAgY29uc3QgZ2V0RGF0ZSA9ICgpID0+IHtcbiAgICBpZiAoZGF0ZSA9PT0gXCJcIikge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGxldCBmb3JtYXQgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICByZXR1cm4gZm9ybWF0LnRvRGF0ZVN0cmluZygpO1xuICB9O1xuICBjb25zdCBnZXRUaW1lID0gKCkgPT4ge1xuICAgIGlmICh0aW1lID09PSBcIlwiKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnYyNHRvMTJIb3VyQ2xvY2sodGltZSk7XG4gIH07XG5cbiAgY29uc3QgY29udjI0dG8xMkhvdXJDbG9jayA9ICh0aW1lKSA9PiB7XG4gICAgY29uc3QgdGltZUFycmF5ID0gdGltZS5zcGxpdChcIjpcIik7XG4gICAgbGV0IG1lcmlkaWVtUGVyaW9kID0gXCJBTVwiO1xuICAgIGxldCBob3VycyA9IE51bWJlcih0aW1lQXJyYXlbMF0pO1xuICAgIGxldCBtaW51dGVzID0gdGltZUFycmF5WzFdO1xuICAgIGlmIChob3VycyA+IDEyKSB7XG4gICAgICBob3VycyAtPSAxMjtcbiAgICAgIG1lcmlkaWVtUGVyaW9kID0gXCJQTVwiO1xuICAgIH1cbiAgICByZXR1cm4gaG91cnMgKyBcIjpcIiArIG1pbnV0ZXMgKyBcIiBcIiArIG1lcmlkaWVtUGVyaW9kO1xuICB9O1xuXG4gIHJldHVybiB7IGdldERhdGUsIGdldFRpbWUsIGNvbnYyNHRvMTJIb3VyQ2xvY2sgfTtcbn07XG5cbmV4cG9ydCB7IHRvZG9JdGVtLCBwcm9qZWN0LCBkYXRlSGVscGVyIH07XG4iLCJpbXBvcnQgeyBwcm9qZWN0LCB0b2RvSXRlbSwgZGF0ZUhlbHBlciB9IGZyb20gXCIuL3RvZG9cIjtcbmltcG9ydCB7IGRpcmVjdG9yIH0gZnJvbSBcIi4vZGlyZWN0b3JcIjtcblxuY29uc3QgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKTtcbmNvbnN0IGRpciA9IGRpcmVjdG9yKCk7XG5cbmNvbnN0IGluaXQgPSAoKSA9PiB7XG4gIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7IC8vaGVhZGVyIGVsZW1lbnRcbiAgaGVhZGVyLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiaGVhZGVyXCIpO1xuICBjb25zdCBoZWFkZXJUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gIGhlYWRlclRleHQuaW5uZXJUZXh0ID0gXCJUb2RvIExpc3RcIjtcbiAgY29uc3QgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gIGljb24uc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJoZWFkZXItaWNvblwiKTtcbiAgaWNvbi5zcmMgPSBcIi4vaW1hZ2VzL2NoZWNrbWFya2ltYWdlLnN2Z1wiO1xuICBoZWFkZXIuYXBwZW5kQ2hpbGQoaWNvbik7XG4gIGhlYWRlci5hcHBlbmRDaGlsZChoZWFkZXJUZXh0KTtcblxuICBjb25zdCBuYXZpZ2F0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgbmF2aWdhdGlvbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcIm5hdmlnYXRpb25cIik7XG4gIGxldCBwcm9qZWN0TGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcbiAgcHJvamVjdExpc3Quc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJwcm9qZWN0LWxpc3RcIik7XG4gIG5hdmlnYXRpb24uYXBwZW5kQ2hpbGQocHJvamVjdExpc3QpO1xuICBjb25zdCB3b3JrQXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHdvcmtBcmVhLnNldEF0dHJpYnV0ZShcImlkXCIsIFwid29yay1hcmVhXCIpO1xuICBsZXQgd29ya0xpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7XG4gIHdvcmtMaXN0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwid29yay1saXN0XCIpO1xuICB3b3JrQXJlYS5hcHBlbmRDaGlsZCh3b3JrTGlzdCk7XG5cbiAgY29udGVudC5hcHBlbmRDaGlsZChoZWFkZXIpO1xuICBjb250ZW50LmFwcGVuZENoaWxkKG5hdmlnYXRpb24pO1xuICBjb250ZW50LmFwcGVuZENoaWxkKHdvcmtBcmVhKTtcbiAgaW5pdFByb2plY3RzKCk7XG59O1xuXG5jb25zdCBpbml0UHJvamVjdHMgPSAoKSA9PiB7XG4gIGxldCBuZXdQcm9qZWN0ID0gcHJvamVjdChcIkluYm94XCIpO1xuICBsZXQgYW5vdGhlclByb2plY3QgPSBwcm9qZWN0KFwiVG9kYXlcIik7XG4gIGxldCB0YXNrID0gdG9kb0l0ZW0oXG4gICAgXCJhc2RcIixcbiAgICBcImFzZFwiLFxuICAgIGRhdGVIZWxwZXIoXCJTZXB0ZW1iZXIgMTQgMjAxMlwiLCBcIjE0OjAwXCIpLFxuICAgIDFcbiAgKTtcbiAgbmV3UHJvamVjdC5hZGRUYXNrKHRhc2spO1xuICBkaXIuYWRkTGlzdChuZXdQcm9qZWN0KTtcbiAgZGlyLmFkZExpc3QoYW5vdGhlclByb2plY3QpO1xuICBsb2FkUHJvamVjdHMoKTtcbn07XG5cbmNvbnN0IGxvYWRQcm9qZWN0cyA9ICgpID0+IHtcbiAgbGV0IGxpc3QgPSBkaXIuZ2V0TGlzdCgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgZSA9IGxpc3RbaV07XG4gICAgY3JlYXRlUHJvamVjdChlLmdldFRpdGxlKCksIGkpO1xuICB9XG59O1xuXG5jb25zdCBjcmVhdGVQcm9qZWN0ID0gKHRpdGxlLCBudW0pID0+IHtcbiAgY29uc3QgcHJvamVjdExpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2plY3QtbGlzdFwiKTtcbiAgY29uc3QgcHJvamVjdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gIHByb2plY3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0XCIpO1xuICBwcm9qZWN0RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhXCIsIG51bSk7XG4gIGNvbnN0IHByb2plY3RJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgY29uc3QgcHJvamVjdE5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgcHJvamVjdE5hbWUuaW5uZXJUZXh0ID0gdGl0bGU7XG4gIHByb2plY3RJY29uLnNyYyA9IFwiLi9pbWFnZXMvaW5ib3hJY29uLnBuZ1wiOyAvL1RPRE86IGNoYW5nZSB0byBkeW5hbWljXG4gIHByb2plY3RFbGVtZW50LmFwcGVuZENoaWxkKHByb2plY3RJY29uKTtcbiAgcHJvamVjdEVsZW1lbnQuYXBwZW5kQ2hpbGQocHJvamVjdE5hbWUpO1xuICBwcm9qZWN0TGlzdC5hcHBlbmRDaGlsZChwcm9qZWN0RWxlbWVudCk7XG4gIHByb2plY3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIG9wZW5Qcm9qZWN0KGUudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGFcIikpO1xuICB9KTtcbn07XG5cbmNvbnN0IG9wZW5Qcm9qZWN0ID0gKG51bSkgPT4ge1xuICBsZXQgY3VyUHJvamVjdCA9IGRpci5nZXRQcm9qZWN0KG51bSk7XG4gIGxldCB0YXNrTGlzdCA9IGN1clByb2plY3QuZ2V0VGFza3MoKTtcbiAgbGV0IHRhc2tBcmVhID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3b3JrLWxpc3RcIik7XG4gIHRhc2tBcmVhLmlubmVySFRNTCA9IFwiXCI7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGFza0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgdGFzayA9IGNyZWF0ZVRhc2tFbGVtZW50KHRhc2tMaXN0W2ldLCBpKTtcbiAgICB0YXNrQXJlYS5hcHBlbmRDaGlsZCh0YXNrKTtcbiAgfVxuXG4gIGxldCBjcmVhdGVCdXR0b24gPSBjcmVhdGVUYXNrQnV0dG9uKCk7XG4gIGxldCBhZGRUYXNrRm9ybSA9IGNyZWF0ZVRhc2tGb3JtKCk7XG5cbiAgY3JlYXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGlmICh0YXNrQXJlYS5sYXN0RWxlbWVudENoaWxkID09PSBhZGRUYXNrRm9ybSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0YXNrQXJlYS5hcHBlbmRDaGlsZChhZGRUYXNrRm9ybSk7XG4gIH0pO1xuXG4gIHRhc2tBcmVhLmFwcGVuZENoaWxkKGNyZWF0ZUJ1dHRvbik7XG59O1xuXG5jb25zdCBjcmVhdGVUYXNrRWxlbWVudCA9ICh0YXNrT2JqZWN0LCBpbmRleCkgPT4ge1xuICBsZXQgdGFzayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgdGFzay5jbGFzc0xpc3QuYWRkKFwidGFza1wiKTtcblxuICBsZXQgY2hlY2tCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICBjaGVja0J1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2hlY2stYnV0dG9uXCIpO1xuXG4gIGNoZWNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIHJlbW92ZVRhc2soaW5kZXgpO1xuICB9KTtcblxuICBsZXQgdGFza0hlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHRhc2tIZWFkZXIuY2xhc3NMaXN0LmFkZChcInRhc2staGVhZGVyXCIpO1xuXG4gIGxldCB0YXNrSGVhZGVyVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICBsZXQgdGFza0hlYWRlckRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgdGFza0hlYWRlclRleHQuaW5uZXJUZXh0ID0gdGFza09iamVjdC5nZXRUaXRsZSgpO1xuICB0YXNrSGVhZGVyRGF0ZS5pbm5lclRleHQgPVxuICAgIHRhc2tPYmplY3QuZ2V0RGF0ZSgpLmdldERhdGUoKSArIFwiIFwiICsgdGFza09iamVjdC5nZXREYXRlKCkuZ2V0VGltZSgpO1xuXG4gIHRhc2tIZWFkZXIuYXBwZW5kQ2hpbGQodGFza0hlYWRlclRleHQpO1xuICB0YXNrSGVhZGVyLmFwcGVuZENoaWxkKHRhc2tIZWFkZXJEYXRlKTtcblxuICBsZXQgZGVzY3JpcHRpb25BcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZGVzY3JpcHRpb25BcmVhLmlubmVyVGV4dCA9IFwidGVzdFwiO1xuICBkZXNjcmlwdGlvbkFyZWEuY2xhc3NMaXN0LmFkZChcImRlc2NyaXB0aW9uLWFyZWFcIik7XG5cbiAgY29uc3QgcmVtb3ZlRGVzYyA9ICgpID0+IHtcbiAgICBpZiAodGFzay5sYXN0RWxlbWVudENoaWxkID09PSBkZXNjcmlwdGlvbkFyZWEpIHtcbiAgICAgIHRhc2sucmVtb3ZlQ2hpbGQoZGVzY3JpcHRpb25BcmVhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFzay5hcHBlbmRDaGlsZChkZXNjcmlwdGlvbkFyZWEpO1xuICAgIH1cbiAgfTtcblxuICB0YXNrSGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4gcmVtb3ZlRGVzYygpKTtcbiAgZGVzY3JpcHRpb25BcmVhLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4gcmVtb3ZlRGVzYygpKTtcblxuICB0YXNrLmFwcGVuZENoaWxkKGNoZWNrQnV0dG9uKTtcbiAgdGFzay5hcHBlbmRDaGlsZCh0YXNrSGVhZGVyKTtcblxuICByZXR1cm4gdGFzaztcbn07XG5cbmNvbnN0IHJlbW92ZVRhc2sgPSAoaW5kZXgpID0+IHtcbiAgZGlyLmdldEN1cnJlbnRQcm9qZWN0KCkucmVtb3ZlVGFzayhpbmRleCk7XG4gIG9wZW5Qcm9qZWN0KGRpci5nZXRDdXJyZW50UHJvamVjdEluZGV4KCkpO1xufTtcblxuY29uc3QgY3JlYXRlVGFza0Zvcm0gPSAoKSA9PiB7XG4gIGxldCBmb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIik7XG4gIGZvcm0uaWQgPSBcInRhc2stZm9ybVwiO1xuXG4gIGxldCB0YXNrbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gIHRhc2tsYWJlbC5pbm5lclRleHQgPSBcIlRhc2s6XCI7XG4gIHRhc2tsYWJlbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgXCJ0YXNrXCIpO1xuXG4gIGxldCB0YXNraW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gIHRhc2tpbnB1dC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKTtcbiAgdGFza2lucHV0LnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJ0YXNrXCIpO1xuICB0YXNraW5wdXQuaWQgPSBcInRhc2staW5wdXRcIjtcbiAgdGFza2lucHV0LnJlcXVpcmVkID0gdHJ1ZTtcblxuICBsZXQgZGVzY2xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICBkZXNjbGFiZWwuaW5uZXJUZXh0ID0gXCJEZXNjcmlwdGlvbjpcIjtcbiAgZGVzY2xhYmVsLnNldEF0dHJpYnV0ZShcImZvclwiLCBcInRhc2stZGVzY1wiKTtcblxuICBsZXQgZGVzY2lucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBkZXNjaW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gIGRlc2NpbnB1dC5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIFwidGFzay1kZXNjXCIpO1xuICBkZXNjaW5wdXQuaWQgPSBcInRhc2stZGVzY1wiO1xuXG4gIGxldCBkYXRlbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gIGRhdGVsYWJlbC5pbm5lclRleHQgPSBcIkR1ZSBEYXRlOlwiO1xuICBkYXRlbGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwidGFzay1kdWUtZGF0ZVwiKTtcblxuICBsZXQgZGF0ZWlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBkYXRlaW5wdXQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImRhdGVcIik7XG4gIGRhdGVpbnB1dC5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIFwidGFzay1kdWUtZGF0ZVwiKTtcbiAgZGF0ZWlucHV0LmlkID0gXCJ0YXNrLWR1ZS1kYXRlXCI7XG5cbiAgbGV0IHRpbWVpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgdGltZWlucHV0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0aW1lXCIpO1xuICB0aW1laW5wdXQuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcInRhc2stZHVlLXRpbWVcIik7XG4gIHRpbWVpbnB1dC5pZCA9IFwidGFzay1kdWUtdGltZVwiO1xuXG4gIGxldCBwcmlvcml0eWxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICBwcmlvcml0eWxhYmVsLmlubmVyVGV4dCA9IFwiUHJpb3JpdHk6XCI7XG4gIHByaW9yaXR5bGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwicHJpb3JpdHlcIik7XG5cbiAgbGV0IHByaW9yaXR5aW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xuICBwcmlvcml0eWlucHV0LnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJwcmlvcml0eVwiKTtcbiAgcHJpb3JpdHlpbnB1dC5pZCA9IFwidGFzay1wcmlvcml0eVwiO1xuXG4gIGxldCBvcHRpb24xID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgb3B0aW9uMS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcIjFcIik7XG4gIG9wdGlvbjEuaW5uZXJUZXh0ID0gXCIxXCI7XG4gIGxldCBvcHRpb24yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgb3B0aW9uMi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcIjJcIik7XG4gIG9wdGlvbjIuaW5uZXJUZXh0ID0gXCIyXCI7XG4gIGxldCBvcHRpb24zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgb3B0aW9uMy5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcIjNcIik7XG4gIG9wdGlvbjMuaW5uZXJUZXh0ID0gXCIzXCI7XG5cbiAgcHJpb3JpdHlpbnB1dC5hcHBlbmRDaGlsZChvcHRpb24xKTtcbiAgcHJpb3JpdHlpbnB1dC5hcHBlbmRDaGlsZChvcHRpb24yKTtcbiAgcHJpb3JpdHlpbnB1dC5hcHBlbmRDaGlsZChvcHRpb24zKTtcblxuICBsZXQgc3VibWl0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgc3VibWl0QnV0dG9uLmlkID0gXCJ0YXNrLXN1Ym1pdFwiO1xuICBzdWJtaXRCdXR0b24uaW5uZXJUZXh0ID0gXCJTdWJtaXRcIjtcbiAgc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGlmICh0YXNraW5wdXQudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgY29uc29sZS5sb2coZGF0ZWlucHV0LnZhbHVlKTtcbiAgICBjb25zb2xlLmxvZyh0aW1laW5wdXQudmFsdWUpO1xuICAgIGxldCBuZXdUYXNrID0gY3JlYXRlVGFzayhcbiAgICAgIHRhc2tpbnB1dCxcbiAgICAgIGRlc2NpbnB1dCxcbiAgICAgIGRhdGVpbnB1dCxcbiAgICAgIHRpbWVpbnB1dCxcbiAgICAgIHByaW9yaXR5aW5wdXRcbiAgICApO1xuICAgIGRpci5nZXRDdXJyZW50UHJvamVjdCgpLmFkZFRhc2sobmV3VGFzayk7XG4gICAgb3BlblByb2plY3QoZGlyLmdldEN1cnJlbnRQcm9qZWN0SW5kZXgoKSk7XG4gIH0pO1xuXG4gIGZvcm0uYXBwZW5kQ2hpbGQodGFza2xhYmVsKTtcbiAgZm9ybS5hcHBlbmRDaGlsZCh0YXNraW5wdXQpO1xuICBmb3JtLmFwcGVuZENoaWxkKGRlc2NsYWJlbCk7XG4gIGZvcm0uYXBwZW5kQ2hpbGQoZGVzY2lucHV0KTtcbiAgZm9ybS5hcHBlbmRDaGlsZChkYXRlbGFiZWwpO1xuICBmb3JtLmFwcGVuZENoaWxkKGRhdGVpbnB1dCk7XG4gIGZvcm0uYXBwZW5kQ2hpbGQodGltZWlucHV0KTtcbiAgZm9ybS5hcHBlbmRDaGlsZChwcmlvcml0eWxhYmVsKTtcbiAgZm9ybS5hcHBlbmRDaGlsZChwcmlvcml0eWlucHV0KTtcbiAgZm9ybS5hcHBlbmRDaGlsZChzdWJtaXRCdXR0b24pO1xuICByZXR1cm4gZm9ybTtcbn07XG5cbmNvbnN0IGNyZWF0ZVRhc2sgPSAoXG4gIHRhc2tpbnB1dCxcbiAgZGVzY2lucHV0LFxuICBkYXRlaW5wdXQsXG4gIHRpbWVpbnB1dCxcbiAgcHJpb3JpdHlpbnB1dFxuKSA9PiB7XG4gIGxldCB0YXNrID0gdG9kb0l0ZW0oXG4gICAgdGFza2lucHV0LnZhbHVlLFxuICAgIGRlc2NpbnB1dC52YWx1ZSxcbiAgICBkYXRlSGVscGVyKGRhdGVpbnB1dC52YWx1ZSwgdGltZWlucHV0LnZhbHVlKSxcbiAgICBwcmlvcml0eWlucHV0LnZhbHVlXG4gICk7XG4gIHJldHVybiB0YXNrO1xufTtcblxuY29uc3QgY3JlYXRlVGFza0J1dHRvbiA9ICgpID0+IHtcbiAgbGV0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiYWRkLXRhc2tcIik7XG4gIGJ1dHRvbi5pbm5lclRleHQgPSBcIisgQWRkIE5ldyBUYXNrXCI7XG4gIHJldHVybiBidXR0b247XG59O1xuXG5leHBvcnQgeyBjcmVhdGVQcm9qZWN0LCBpbml0IH07XG4iLCJjb25zdCBkaXJlY3RvciA9ICgpID0+IHtcbiAgY29uc3QgcHJvamVjdExpc3QgPSBbXTtcbiAgbGV0IGN1cnJlbnRQcm9qZWN0SW5kZXggPSBudWxsO1xuXG4gIGNvbnN0IGdldExpc3QgPSAoKSA9PiBwcm9qZWN0TGlzdDtcblxuICBjb25zdCBnZXRDdXJyZW50UHJvamVjdCA9ICgpID0+IHByb2plY3RMaXN0W2N1cnJlbnRQcm9qZWN0SW5kZXhdO1xuICBjb25zdCBnZXRDdXJyZW50UHJvamVjdEluZGV4ID0gKCkgPT4gY3VycmVudFByb2plY3RJbmRleDtcblxuICBjb25zdCBhZGRMaXN0ID0gKHByb2plY3QpID0+IHtcbiAgICBwcm9qZWN0TGlzdC5wdXNoKHByb2plY3QpO1xuICB9O1xuXG4gIGNvbnN0IGdldFByb2plY3QgPSAobnVtKSA9PiB7XG4gICAgY3VycmVudFByb2plY3RJbmRleCA9IG51bTtcbiAgICByZXR1cm4gcHJvamVjdExpc3RbbnVtXTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGdldExpc3QsXG4gICAgZ2V0UHJvamVjdCxcbiAgICBhZGRMaXN0LFxuICAgIGdldEN1cnJlbnRQcm9qZWN0LFxuICAgIGdldEN1cnJlbnRQcm9qZWN0SW5kZXgsXG4gIH07XG59O1xuXG5leHBvcnQgeyBkaXJlY3RvciB9O1xuIiwiaW1wb3J0IHsgdG9kb0l0ZW0sIHByb2plY3QgfSBmcm9tIFwiLi90b2RvXCI7XG5pbXBvcnQgeyBkaXNwbGF5UHJvamVjdCwgaW5pdCB9IGZyb20gXCIuL1VJXCI7XG5cbmluaXQoKTtcbiJdLCJuYW1lcyI6WyJ0b2RvSXRlbSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJkdWVEYXRlIiwicHJpb3JpdHkiLCJnZXRUaXRsZSIsImdldERlc2MiLCJnZXREYXRlIiwiZ2V0UHJpb3JpdHkiLCJwcm9qZWN0IiwidG9kb2xpc3QiLCJhZGRUYXNrIiwidG9kbyIsInB1c2giLCJnZXRUYXNrcyIsInJlbW92ZVRhc2siLCJpbmRleCIsInNwbGljZSIsImRhdGVIZWxwZXIiLCJkYXRlIiwidGltZSIsImNvbnYyNHRvMTJIb3VyQ2xvY2siLCJ0aW1lQXJyYXkiLCJzcGxpdCIsIm1lcmlkaWVtUGVyaW9kIiwiaG91cnMiLCJOdW1iZXIiLCJEYXRlIiwidG9EYXRlU3RyaW5nIiwiZ2V0VGltZSIsImNvbnRlbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZGlyIiwicHJvamVjdExpc3QiLCJjdXJyZW50UHJvamVjdEluZGV4IiwiZ2V0TGlzdCIsImdldFByb2plY3QiLCJudW0iLCJhZGRMaXN0IiwiZ2V0Q3VycmVudFByb2plY3QiLCJnZXRDdXJyZW50UHJvamVjdEluZGV4IiwiZGlyZWN0b3IiLCJsb2FkUHJvamVjdHMiLCJsaXN0IiwiaSIsImxlbmd0aCIsImUiLCJjcmVhdGVQcm9qZWN0IiwicHJvamVjdEVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwic2V0QXR0cmlidXRlIiwicHJvamVjdEljb24iLCJwcm9qZWN0TmFtZSIsImlubmVyVGV4dCIsInNyYyIsImFwcGVuZENoaWxkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9wZW5Qcm9qZWN0IiwidGFyZ2V0IiwiZ2V0QXR0cmlidXRlIiwidGFza0xpc3QiLCJ0YXNrQXJlYSIsImlubmVySFRNTCIsInRhc2siLCJjcmVhdGVUYXNrRWxlbWVudCIsImNyZWF0ZUJ1dHRvbiIsImNyZWF0ZVRhc2tCdXR0b24iLCJhZGRUYXNrRm9ybSIsImNyZWF0ZVRhc2tGb3JtIiwibGFzdEVsZW1lbnRDaGlsZCIsInRhc2tPYmplY3QiLCJjaGVja0J1dHRvbiIsInRhc2tIZWFkZXIiLCJ0YXNrSGVhZGVyVGV4dCIsInRhc2tIZWFkZXJEYXRlIiwiZGVzY3JpcHRpb25BcmVhIiwicmVtb3ZlRGVzYyIsInJlbW92ZUNoaWxkIiwiZm9ybSIsImlkIiwidGFza2xhYmVsIiwidGFza2lucHV0IiwicmVxdWlyZWQiLCJkZXNjbGFiZWwiLCJkZXNjaW5wdXQiLCJkYXRlbGFiZWwiLCJkYXRlaW5wdXQiLCJ0aW1laW5wdXQiLCJwcmlvcml0eWxhYmVsIiwicHJpb3JpdHlpbnB1dCIsIm9wdGlvbjEiLCJvcHRpb24yIiwib3B0aW9uMyIsInN1Ym1pdEJ1dHRvbiIsInZhbHVlIiwicHJldmVudERlZmF1bHQiLCJjb25zb2xlIiwibG9nIiwibmV3VGFzayIsImNyZWF0ZVRhc2siLCJidXR0b24iLCJoZWFkZXIiLCJoZWFkZXJUZXh0IiwiaWNvbiIsIm5hdmlnYXRpb24iLCJ3b3JrQXJlYSIsIndvcmtMaXN0IiwibmV3UHJvamVjdCIsImFub3RoZXJQcm9qZWN0IiwiaW5pdFByb2plY3RzIiwiaW5pdCJdLCJzb3VyY2VSb290IjoiIn0=